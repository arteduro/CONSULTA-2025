<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta Popular 2025 - Reformas Laborales</title>
    <style>
        :root {
            --amarillo: #FCD116;
            --azul: #003893;
            --rojo: #CE1126;
            --blanco: #FFFFFF;
            --gris-oscuro: #333333;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--gris-oscuro);
            max-width: 850px;
            margin: 0 auto;
            padding: 0;
            background-color: #f8f9fa;
        }
        
        .contenedor-bandera {
            position: relative;
            height: 120px;
            margin-bottom: 2rem;
            overflow: hidden;
        }
        
        .bandera-colombia {
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .bandera-amarillo {
            background-color: var(--amarillo);
            height: 50%;
            width: 100%;
        }
        
        .bandera-azul {
            background-color: var(--azul);
            height: 25%;
            width: 100%;
        }
        
        .bandera-rojo {
            background-color: var(--rojo);
            height: 25%;
            width: 100%;
        }
        
        .texto-bandera {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 0 1rem;
        }
        
        h1 {
            color: var(--azul);
            margin: 0;
            font-size: 2.2rem;
            background-color: rgba(255, 255, 255, 0.85);
            padding: 0.5rem 1.5rem;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .subtitulo {
            color: var(--rojo);
            font-weight: 600;
            margin-top: 0.5rem;
            font-size: 1rem;
            background-color: rgba(255, 255, 255, 0.85);
            padding: 0.3rem 1rem;
            border-radius: 5px;
            font-style: italic;
        }
        
        .contenedor {
            padding: 0 2rem;
        }
        
        .pregunta {
            background-color: var(--blanco);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-left: 5px solid var(--azul);
            transition: transform 0.3s ease;
            text-align: justify;
            text-justify: inter-word;
            hyphens: auto;
            line-height: 1.7;
        }
        
        .pregunta h3 {
            margin-top: 0;
            margin-bottom: 0.8rem;
            color: var(--azul);
            font-size: 1.1rem;
            text-align: justify;
        }
        
        .opciones {
            display: flex;
            gap: 1.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        
        .opcion {
            display: flex;
            align-items: center;
        }
        
        .opcion input[type="radio"] {
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid var(--azul);
            border-radius: 50%;
            margin-right: 0.5rem;
            cursor: pointer;
            position: relative;
            transition: all 0.2s ease;
        }
        
        .opcion input[type="radio"]:checked {
            background-color: var(--amarillo);
            border-color: var(--rojo);
        }
        
        .opcion input[type="radio"]:checked::after {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--rojo);
            border-radius: 50%;
            top: 3px;
            left: 3px;
        }
        
        .opcion label {
            cursor: pointer;
            font-weight: 500;
        }
        
        button {
            background: linear-gradient(to right, var(--amarillo), var(--rojo));
            color: var(--blanco);
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            display: block;
            margin: 2.5rem auto;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
            background: linear-gradient(to right, var(--rojo), var(--amarillo));
        }
        
        button:disabled {
            background: #cccccc;
            transform: none;
            box-shadow: none;
            cursor: not-allowed;
        }
        
        #resultado {
            background: linear-gradient(135deg, var(--azul), var(--rojo));
            color: var(--blanco);
            padding: 2rem;
            border-radius: 10px;
            text-align: center;
            display: none;
            margin: 2rem 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        #resultado h2 {
            margin-top: 0;
            color: var(--amarillo);
            font-size: 1.8rem;
        }
        
        #resultado h3 {
            color: var(--amarillo);
            margin-top: 1.5rem;
            font-size: 1.2rem;
        }
        
        #resultado ul {
            text-align: left;
            max-width: 100%;
            margin: 1.5rem auto;
            padding: 0;
            list-style-type: none;
            columns: 2;
            column-gap: 2rem;
        }
        
        #resultado li {
            padding: 0.5rem 0;
            break-inside: avoid;
            border-bottom: 1px solid rgba(252, 209, 22, 0.3);
        }
        
        .respuestas-container {
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .error {
            color: var(--rojo);
            font-size: 0.9rem;
            margin-top: 0.5rem;
            display: none;
            font-weight: 500;
        }
        
        footer {
            text-align: center;
            padding: 1.5rem;
            margin-top: 2rem;
            background-color: var(--azul);
            color: var(--blanco);
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .opciones {
                flex-direction: column;
                gap: 0.8rem;
            }
            
            h1 {
                font-size: 1.5rem;
            }
            
            .contenedor {
                padding: 0 1rem;
            }
            
            .contenedor-bandera {
                height: 100px;
            }
            
            .pregunta {
                padding: 1.2rem;
                line-height: 1.6;
            }
            
            .pregunta h3 {
                font-size: 1rem;
            }
            
            #resultado ul {
                columns: 1;
            }
            
            #resultado h2 {
                font-size: 1.5rem;
            }
        }
        
        .loading {
            display: none;
            text-align: center;
            margin: 1rem 0;
        }
        
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--amarillo);
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="contenedor-bandera">
        <div class="bandera-colombia">
            <div class="bandera-amarillo"></div>
            <div class="bandera-azul"></div>
            <div class="bandera-rojo"></div>
        </div>
        <div class="texto-bandera">
            <h1>CONSULTA POPULAR 2025</h1>
            <div class="subtitulo">Su opinión sobre las reformas laborales en Colombia</div>
        </div>
    </div>
    
    <div class="contenedor">
        <form id="encuestaForm">
            <div class="pregunta">
                <h3>1. ¿Está de acuerdo con que el trabajo de día dure máximo 8 horas y sea entre las 6:00 a. m. y las 6:00 p. m.?</h3>
                <div class="opciones">
                    <div class="opcion">
                        <input type="radio" name="pregunta1" id="p1_si" value="SI">
                        <label for="p1_si">SI</label>
                    </div>
                    <div class="opcion">
                        <input type="radio" name="pregunta1" id="p1_no" value="NO">
                        <label for="p1_no">NO</label>
                    </div>
                </div>
                <div class="error" id="error1">Por favor seleccione una opción</div>
            </div>
            
            <div class="pregunta">
                <h3>2. ¿Está de acuerdo con que se pague con un recargo del 100 % el trabajo en día de descanso dominical o festivo?</h3>
                <div class="opciones">
                    <div class="opcion">
                        <input type="radio" name="pregunta2" id="p2_si" value="SI">
                        <label for="p2_si">SI</label>
                    </div>
                    <div class="opcion">
                        <input type="radio" name="pregunta2" id="p2_no" value="NO">
                        <label for="p2_no">NO</label>
                    </div>
                </div>
                <div class="error" id="error2">Por favor seleccione una opción</div>
            </div>
            
            <div class="pregunta">
                <h3>3. ¿Está de acuerdo con que las micro, pequeña y medianas empresas productivas, preferentemente asociativas, reciban tasas preferenciales e incentivos para sus proyectos productivos?</h3>
                <div class="opciones">
                    <div class="opcion">
                        <input type="radio" name="pregunta3" id="p3_si" value="SI">
                        <label for="p3_si">SI</label>
                    </div>
                    <div class="opcion">
                        <input type="radio" name="pregunta3" id="p3_no" value="NO">
                        <label for="p3_no">NO</label>
                    </div>
                </div>
                <div class="error" id="error3">Por favor seleccione una opción</div>
            </div>
            
            <div class="pregunta">
                <h3>4. ¿Está de acuerdo con que las personas puedan tener los permisos necesarios para atender tratamientos médicos y licencias por periodos menstruales incapacitantes?</h3>
                <div class="opciones">
                    <div class="opcion">
                        <input type="radio" name="pregunta4" id="p4_si" value="SI">
                        <label for="p4_si">SI</label>
                    </div>
                    <div class="opcion">
                        <input type="radio" name="pregunta4" id="p4_no" value="NO">
                        <label for="p4_no">NO</label>
                    </div>
                </div>
                <div class="error" id="error4">Por favor seleccione una opción</div>
            </div>
            
            <div class="pregunta">
                <h3>5. ¿Está de acuerdo en que las empresas deban contratar al menos 2 personas con discapacidad por cada 100 trabajadores?</h3>
                <div class="opciones">
                    <div class="opcion">
                        <input type="radio" name="pregunta5" id="p5_si" value="SI">
                        <label for="p5_si">SI</label>
                    </div>
                    <div class="opcion">
                        <input type="radio" name="pregunta5" id="p5_no" value="NO">
                        <label for="p5_no">NO</label>
                    </div>
                </div>
                <div class="error" id="error5">Por favor seleccione una opción</div>
            </div>
            
            <div class="pregunta">
                <h3>6. ¿Está de acuerdo con que los jóvenes aprendices del SENA y de instituciones similares tengan un contrato laboral?</h3>
                <div class="opciones">
                    <div class="opcion">
                        <input type="radio" name="pregunta6" id="p6_si" value="SI">
                        <label for="p6_si">SI</label>
                    </div>
                    <div class="opcion">
                        <input type="radio" name="pregunta6" id="p6_no" value="NO">
                        <label for="p6_no">NO</label>
                    </div>
                </div>
                <div class="error" id="error6">Por favor seleccione una opción</div>
            </div>
            
            <div class="pregunta">
                <h3>7. ¿Está de acuerdo que las personas trabajadoras en plataformas de reparto acuerden su tipo de contrato y se les garantice el pago de seguridad social?</h3>
                <div class="opciones">
                    <div class="opcion">
                        <input type="radio" name="pregunta7" id="p7_si" value="SI">
                        <label for="p7_si">SI</label>
                    </div>
                    <div class="opcion">
                        <input type="radio" name="pregunta7" id="p7_no" value="NO">
                        <label for="p7_no">NO</label>
                    </div>
                </div>
                <div class="error" id="error7">Por favor seleccione una opción</div>
            </div>
            
            <div class="pregunta">
                <h3>8. ¿Está de acuerdo con establecer un régimen laboral especial para que los empresarios del campo garanticen los derechos laborales y el salario justo a los trabajadores agrarios?</h3>
                <div class="opciones">
                    <div class="opcion">
                        <input type="radio" name="pregunta8" id="p8_si" value="SI">
                        <label for="p8_si">SI</label>
                    </div>
                    <div class="opcion">
                        <input type="radio" name="pregunta8" id="p8_no" value="NO">
                        <label for="p8_no">NO</label>
                    </div>
                </div>
                <div class="error" id="error8">Por favor seleccione una opción</div>
            </div>
            
            <div class="pregunta">
                <h3>9. ¿Está de acuerdo en eliminar la tercerización e intermediación laboral mediante contratos sindicales que violan los derechos laborales?</h3>
                <div class="opciones">
                    <div class="opcion">
                        <input type="radio" name="pregunta9" id="p9_si" value="SI">
                        <label for="p9_si">SI</label>
                    </div>
                    <div class="opcion">
                        <input type="radio" name="pregunta9" id="p9_no" value="NO">
                        <label for="p9_no">NO</label>
                    </div>
                </div>
                <div class="error" id="error9">Por favor seleccione una opción</div>
            </div>
            
            <div class="pregunta">
                <h3>10. ¿Está de acuerdo que las trabajadoras domésticas, madres comunitarias, periodistas, deportistas, artistas, conductores, entre otros trabajadores informales, sean formalizados o tengan acceso a la seguridad social?</h3>
                <div class="opciones">
                    <div class="opcion">
                        <input type="radio" name="pregunta10" id="p10_si" value="SI">
                        <label for="p10_si">SI</label>
                    </div>
                    <div class="opcion">
                        <input type="radio" name="pregunta10" id="p10_no" value="NO">
                        <label for="p10_no">NO</label>
                    </div>
                </div>
                <div class="error" id="error10">Por favor seleccione una opción</div>
            </div>
            
            <div class="pregunta">
                <h3>11. ¿Está de acuerdo en promover la estabilidad laboral mediante contratos a término indefinido como regla general?</h3>
                <div class="opciones">
                    <div class="opcion">
                        <input type="radio" name="pregunta11" id="p11_si" value="SI">
                        <label for="p11_si">SI</label>
                    </div>
                    <div class="opcion">
                        <input type="radio" name="pregunta11" id="p11_no" value="NO">
                        <label for="p11_no">NO</label>
                    </div>
                </div>
                <div class="error" id="error11">Por favor seleccione una opción</div>
            </div>
            
            <div class="pregunta">
                <h3>12. ¿Está de acuerdo con constituir un fondo especial destinado al reconocimiento de un bono pensional para los campesinos y campesinas?</h3>
                <div class="opciones">
                    <div class="opcion">
                        <input type="radio" name="pregunta12" id="p12_si" value="SI">
                        <label for="p12_si">SI</label>
                    </div>
                    <div class="opcion">
                        <input type="radio" name="pregunta12" id="p12_no" value="NO">
                        <label for="p12_no">NO</label>
                    </div>
                </div>
                <div class="error" id="error12">Por favor seleccione una opción</div>
            </div>
            
            <button type="button" id="enviar">ENVIAR MI VOTO</button>
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Enviando respuestas...</p>
            </div>
        </form>
        
        <div id="resultado"></div>
    </div>
    
    <footer>
        Consulta Popular 2025 - Todos los derechos reservados ©
    </footer>
   
    <script>
        // URL del formulario de Google (debes reemplazarla con la tuya)
        const GOOGLE_FORM_ACTION = "https://docs.google.com/forms/d/e/1FAIpQLSeBcPXbN76t_YMcvd5CJn95uVSQkyJsNJUtdvd1GQNWxfu7cg/formResponse";
        // Nombres de los campos en el formulario de Google (debes reemplazarlos)
        const FIELD_IDS = {
            pregunta1: "entry.1105192107",
            pregunta2: "entry.1375380220",
            pregunta3: "entry.1167978425",
            pregunta4: "entry.889428155",
            pregunta5: "entry.1964916120",
            pregunta6: "entry.1234567890",
            pregunta7: "entry.2345678901",
            pregunta8: "entry.3456789012",
            pregunta9: "entry.4567890123",
            pregunta10: "entry.5678901234",
            pregunta11: "entry.6789012345",
            pregunta12: "entry.7890123456"
        };
        
        document.getElementById('enviar').addEventListener('click', async function() {
            // Validar que todas las preguntas tengan respuesta
            let todasRespondidas = true;
            
            for (let i = 1; i <= 12; i++) {
                const pregunta = document.querySelector(`input[name="pregunta${i}"]:checked`);
                const errorElement = document.getElementById(`error${i}`);
                
                if (!pregunta) {
                    errorElement.style.display = 'block';
                    todasRespondidas = false;
                } else {
                    errorElement.style.display = 'none';
                }
            }
            
            if (!todasRespondidas) {
                return;
            }
            
            // Mostrar spinner de carga
            document.getElementById('loading').style.display = 'block';
            document.getElementById('enviar').disabled = true;
            
            try {
                // Recoger respuestas
                let respuestas = {};
                for (let i = 1; i <= 12; i++) {
                    respuestas[`pregunta${i}`] = document.querySelector(`input[name="pregunta${i}"]:checked`).value;
                }
                
                // Enviar respuestas a Google Forms
                await enviarAGoogleForms(respuestas);
                
                // Mostrar resultados al usuario
                mostrarResultados(respuestas);
                
            } catch (error) {
                console.error("Error al enviar respuestas:", error);
                alert("Ocurrió un error al enviar sus respuestas. Por favor intente nuevamente.");
            } finally {
                document.getElementById('loading').style.display = 'none';
            }
        });
        
        async function enviarAGoogleForms(respuestas) {
            // Crear FormData con las respuestas
            const formData = new FormData();
            
            // Agregar cada respuesta al FormData
            for (const [pregunta, respuesta] of Object.entries(respuestas)) {
                const fieldId = FIELD_IDS[pregunta];
                if (fieldId) {
                    formData.append(fieldId, respuesta);
                }
            }
            
            // Enviar datos al formulario de Google
            const response = await fetch(GOOGLE_FORM_ACTION, {
                method: "POST",
                body: formData,
                mode: "no-cors" // Importante para evitar problemas CORS
            });
            
            // Nota: no podemos verificar la respuesta debido a 'no-cors'
            // Pero asumimos que se envió correctamente
            return response;
        }
        
        function mostrarResultados(respuestas) {
            const resultadoDiv = document.getElementById('resultado');
            resultadoDiv.style.display = 'block';
            
            resultadoDiv.innerHTML = `
                <h2>¡SU VOTO HA SIDO REGISTRADO!</h2>
                <p>Gracias por participar en la Consulta Popular 2025 sobre reformas laborales.</p>
                
                <div class="respuestas-container">
                    <h3>Sus respuestas:</h3>
                    <ul>
                        <li><strong>1. Jornada laboral diurna:</strong> ${respuestas.pregunta1}</li>
                        <li><strong>2. Recargo dominical/festivo:</strong> ${respuestas.pregunta2}</li>
                        <li><strong>3. Incentivos para PYMES:</strong> ${respuestas.pregunta3}</li>
                        <li><strong>4. Permisos médicos y menstruales:</strong> ${respuestas.pregunta4}</li>
                        <li><strong>5. Contratación personas con discapacidad:</strong> ${respuestas.pregunta5}</li>
                        <li><strong>6. Contratos para aprendices SENA:</strong> ${respuestas.pregunta6}</li>
                        <li><strong>7. Trabajadores plataformas digitales:</strong> ${respuestas.pregunta7}</li>
                        <li><strong>8. Régimen laboral agrario:</strong> ${respuestas.pregunta8}</li>
                        <li><strong>9. Eliminar tercerización laboral:</strong> ${respuestas.pregunta9}</li>
                        <li><strong>10. Formalización trabajadores informales:</strong> ${respuestas.pregunta10}</li>
                        <li><strong>11. Contratos indefinidos:</strong> ${respuestas.pregunta11}</li>
                        <li><strong>12. Bono pensional campesinos:</strong> ${respuestas.pregunta12}</li>
                    </ul>
                </div>
                
                <p style="font-style: italic;">Los resultados de esta consulta serán presentados al Congreso de la República.</p>
            `;
            
            resultadoDiv.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>